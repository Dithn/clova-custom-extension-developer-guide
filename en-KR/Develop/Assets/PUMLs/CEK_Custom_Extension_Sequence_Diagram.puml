!include ../../../styles/PlantUML_StyleSheet.puml

participant "Clova app\nor device" as client #9EA0CA
participant "Clova" as clova #05D686
participant "Weather Forecast\nCustom extension" as ext #9EA0CA

group Session
  [->> client: Receives user input
  activate client
    client ->> clova: "Ask Weather Forecast about today's weather"

    activate clova
      clova -> clova: Analyzes user utterance\n(Interaction model)
      clova ->> ext: Sends IntentRequest (HTTP Request)

      activate ext
        ext -> ext: Handles user request
        ext -->> clova: Sends response message (HTTP Response)
      deactivate ext

      clova -->> client: "It's sunny today"
    deactivate clova

  deactivate client
end

group Session
  [->> client: Receives user input
  activate client
    client ->> clova: "Ask Weather Forecast about tomorrow's weather"

    activate clova
      clova -> clova: Analyzes user utterance\n(Interaction model)
      clova ->> ext: Sends IntentRequest (HTTP Request)

      activate ext
        ext -> ext: Handles user request
        ext -->> clova: Sends response message (HTTP Response)
      deactivate ext

      clova -->> client: "It will be cloudy tomorrow"
    deactivate clova

  deactivate client
end

group Session
  [->> client: Receives user input
  activate client
    client ->> clova: "Ask Weather Forecast about the weather in Seoul"

    activate clova
      clova -> clova: Analyzes user utterance\n(Interaction model)
      clova ->> ext: Sends IntentRequest (HTTP Request)

      activate ext
        ext -> ext: Handles user request
        ext -->> clova: Sends response message (HTTP Response)
      deactivate ext

      clova -->> client: "It's sunny in Seoul"
    deactivate clova

  deactivate client
end
